<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy 19th Birthday, Rati! 💙</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #000000 0%, #0a0a18 50%, #0d1225 100%); /* Darker gradient */
            color: #ffffff;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Animated background particles */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            background: linear-gradient(45deg, #4fc3f7, #29b6f6);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite; /* Slower, more subtle */
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) translateX(0px) rotate(0deg); opacity: 0.6; }
            25% { transform: translateY(-15px) translateX(10px) rotate(90deg); opacity: 0.8; }
            50% { transform: translateY(5px) translateX(-10px) rotate(180deg); opacity: 1; }
            75% { transform: translateY(-10px) translateX(5px) rotate(270deg); opacity: 0.8; }
        }

        /* Hero section */
        .hero-section {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            padding: 0 1rem;
        }

        .hero-title {
            font-size: 3.5rem; /* Adjusted for responsiveness */
            font-weight: bold;
            background: linear-gradient(45deg, #64b5f6, #1976d2, #0d47a1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 8px #64b5f6); }
            to { filter: drop-shadow(0 0 25px #1976d2); }
        }

        .hero-subtitle {
            font-size: 1.3rem; /* Adjusted */
            margin-bottom: 2rem;
            color: #e3f2fd;
            max-width: 600px;
        }

        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            animation: bounce 2s infinite;
            cursor: pointer;
        }
         .scroll-indicator span {
            font-size: 2.5rem;
            color: #42a5f5;
        }


        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-12px); }
            60% { transform: translateY(-6px); }
        }

        /* Navigation */
        .nav-menu {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
            justify-content: flex-end;
        }

        .nav-button {
            background: rgba(25, 118, 210, 0.7); /* Slightly less transparent */
            border: 1px solid rgba(66, 165, 245, 0.5); /* Subtle border */
            color: white;
            padding: 10px 20px; /* Adjusted padding */
            margin: 5px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(8px); /* Slightly less blur for performance */
            font-size: 0.9rem;
        }

        .nav-button:hover {
            background: rgba(30, 136, 229, 0.9); /* Brighter blue on hover */
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 20px rgba(25, 118, 210, 0.5);
        }

        /* Content sections */
        .section {
            min-height: 100vh;
            padding: 6rem 2rem 4rem 2rem; /* More top padding */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative; /* For potential absolute positioned elements within sections */
        }

        .section-title {
            font-size: 2.8rem; /* Adjusted */
            margin-bottom: 2.5rem; /* More space */
            text-align: center;
            background: linear-gradient(45deg, #42a5f5, #1e88e5);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .message-card {
            max-width: 700px; /* Slightly smaller */
            background: rgba(10, 10, 25, 0.75); /* Darker, more opaque card */
            border: 1px solid #1976d2; /* Thinner border */
            border-radius: 15px; /* Less rounded */
            padding: 2.5rem; /* Adjusted padding */
            margin: 1.5rem 0; /* Adjusted margin */
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 35px rgba(25, 118, 210, 0.25); /* Softer shadow */
            opacity: 0; /* Initially hidden for animation */
            transform: translateY(30px); /* Initial position for animation */
        }
        
        .message-card.visible { /* Class added by Intersection Observer */
            animation: slideInUp 0.8s ease-out forwards;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message-text {
            font-size: 1.15rem; /* Adjusted */
            line-height: 1.7; /* Adjusted */
            text-align: center;
            color: #e0e0e0; /* Lighter text for better contrast */
        }

        /* Photo gallery */
         .gallery-title {
            color: #42a5f5;
            font-size: 2rem;
            margin: 3rem 0 1.5rem 0;
            text-align: center;
        }
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Responsive columns */
            gap: 1.5rem; /* Adjusted gap */
            width: 100%;
            max-width: 1100px; /* Adjusted max-width */
            margin: 2rem 0;
        }

        .photo-item {
            position: relative;
            border-radius: 10px; /* Less rounded */
            overflow: hidden;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.6); /* Darker shadow for depth */
            transition: all 0.35s ease;
            cursor: pointer;
            opacity: 0; /* Initially hidden for animation */
            transform: translateY(30px); /* Initial position for animation */
        }

        .photo-item.visible { /* Class added by Intersection Observer */
             animation: popIn 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
             animation-delay: var(--animation-delay, 0s);
        }
        @keyframes popIn {
            0% { opacity: 0; transform: translateY(30px) scale(0.95); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }


        .photo-item:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 12px 35px rgba(25, 118, 210, 0.45);
        }

        .photo-item img {
            width: 100%;
            height: 280px; /* Adjusted height */
            object-fit: cover;
            transition: all 0.35s ease;
            display: block; /* Remove extra space below image */
        }

        .photo-item:hover img {
            filter: brightness(1.15) saturate(1.1); /* Enhanced hover effect */
        }

        .photo-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.9) 80%); /* Darker gradient */
            color: white;
            padding: 1rem; /* Adjusted padding */
            font-size: 0.9rem; /* Adjusted font size */
            transform: translateY(100%);
            transition: all 0.35s ease-in-out;
        }

        .photo-item:hover .photo-overlay {
            transform: translateY(0);
        }

        /* Video section */
        .video-container {
            position: relative;
            width: 100%;
            max-width: 750px; /* Adjusted */
            margin: 2rem 0;
            border-radius: 15px; /* Less rounded */
            overflow: hidden;
            box-shadow: 0 12px 45px rgba(25, 118, 210, 0.35); /* Enhanced shadow */
            border: 2px solid #1976d2;
            opacity: 0; /* Initially hidden for animation */
            transform: translateY(30px); /* Initial position for animation */
        }
         .video-container.visible { /* Class added by Intersection Observer */
            animation: slideInUp 0.8s ease-out forwards;
        }

        .video-container video {
            width: 100%;
            display: block; /* Remove extra space */
        }

        /* Music player */
        .music-player {
            position: fixed;
            bottom: 15px; /* Adjusted position */
            left: 15px;
            background: rgba(5, 5, 15, 0.85); /* Darker, more opaque */
            border: 1px solid #1976d2;
            border-radius: 12px; /* Less rounded */
            padding: 12px 15px; /* Adjusted padding */
            backdrop-filter: blur(10px);
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(25, 118, 210, 0.3);
        }

        .music-controls {
            display: flex;
            align-items: center;
            gap: 12px; /* Adjusted gap */
        }

        .play-button {
            background: linear-gradient(45deg, #1976d2, #42a5f5);
            border: none;
            color: white;
            width: 38px; /* Adjusted size */
            height: 38px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem; /* Icon size */
            transition: background 0.3s ease;
        }
        .play-button:hover {
            background: linear-gradient(45deg, #42a5f5, #1976d2);
        }

        .music-player span {
             color: #a0cfff; /* Lighter blue for text */
             font-size: 0.85rem;
        }

        .volume-control {
            width: 70px; /* Adjusted width */
            height: 5px;
            -webkit-appearance: none;
            appearance: none;
            background: #0d47a1;
            border-radius: 5px;
            cursor: pointer;
        }
        .volume-control::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 12px;
            height: 12px;
            background: #64b5f6;
            border-radius: 50%;
        }
        .volume-control::-moz-range-thumb {
            width: 12px;
            height: 12px;
            background: #64b5f6;
            border-radius: 50%;
            border: none;
        }


        /* Floating hearts */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999; /* Below nav and music player */
            overflow: hidden;
        }

        .heart {
            position: absolute;
            color: #42a5f5;
            font-size: 18px; /* Adjusted size */
            animation: floatUp 5s linear infinite;
            opacity: 0; /* Start transparent, fade in with animation */
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7; /* Fade in */
            }
            90% {
                opacity: 0.7; /* Start fading out */
            }
            100% {
                transform: translateY(-10vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Music Prompt Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background: #0d1225; /* Dark background */
            padding: 30px 40px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid #1976d2;
            box-shadow: 0 0 30px rgba(25, 118, 210, 0.4);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }
        .modal-content h3 {
            font-size: 1.5rem;
            color: #64b5f6;
            margin-bottom: 15px;
        }
        .modal-content p {
            font-size: 1rem;
            color: #e0e0e0;
            margin-bottom: 25px;
        }
        .modal-buttons button {
            background: #1976d2;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s ease;
            font-size: 0.9rem;
        }
        .modal-buttons button:hover {
            background: #42a5f5;
        }
        .modal-buttons button.secondary {
            background: #374151; /* Dark gray for "No" */
        }
         .modal-buttons button.secondary:hover {
            background: #4b5563;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .hero-title { font-size: 2.8rem; }
            .hero-subtitle { font-size: 1.1rem; }
            .section-title { font-size: 2.2rem; }
            .message-card { padding: 2rem; margin: 1rem; max-width: 90%;}
            .gallery-title { font-size: 1.8rem; }
            .photo-gallery { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;}
            .photo-item img { height: 250px; }
            .nav-menu {
                top: 10px;
                right: 10px;
                justify-content: center; /* Center buttons if they wrap */
            }
            .nav-button { padding: 8px 15px; font-size: 0.8rem; margin: 3px;}
            .music-player { bottom: 10px; left: 10px; padding: 10px; }
            .play-button { width: 35px; height: 35px; }
            .volume-control { width: 60px; }
            .modal-content { width: 90%; padding: 20px;}
            .modal-content h3 { font-size: 1.3rem; }
            .modal-content p { font-size: 0.9rem; }
            .modal-buttons button { padding: 8px 15px; font-size: 0.8rem; }
        }
        @media (max-width: 480px) {
            .hero-title { font-size: 2.2rem; }
            .section-title { font-size: 1.8rem; }
            .message-text { font-size: 1rem; }
            .photo-gallery { grid-template-columns: 1fr; } /* Single column on very small screens */
             .nav-menu {
                position: static; /* Let it flow in document for very small screens */
                flex-direction: column;
                align-items: center;
                margin-bottom: 1.5rem;
                padding-top: 1rem;
            }
            .nav-button { width: 80%; text-align: center; margin-bottom: 5px; }
            .hero-section { padding-top: 60px; /* Account for static nav */}
        }
    </style>
</head>
<body>
    <div class="background-animation" id="backgroundAnimation"></div>
    <div class="floating-hearts" id="floatingHearts"></div>

    <!-- Music Prompt Modal -->
    <div class="modal-overlay" id="musicPromptModal">
        <div class="modal-content">
            <h3>A Little Ambiance?</h3>
            <p>Would you like some background music for this birthday surprise?</p>
            <div class="modal-buttons">
                <button id="playMusicBtn">Yes, please!</button>
                <button id="noMusicBtn" class="secondary">No, thanks</button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="nav-menu">
        <button class="nav-button" onclick="scrollToSection('hero')">Home</button>
        <button class="nav-button" onclick="scrollToSection('message')">Message</button>
        <button class="nav-button" onclick="scrollToSection('memories')">Memories</button>
        <button class="nav-button" onclick="scrollToSection('celebration')">Celebrate</button>
    </div>

    <!-- Hero Section -->
    <section id="hero" class="hero-section">
        <h1 class="hero-title">Happy 19th Birthday, Rati!</h1>
        <p class="hero-subtitle">Today we celebrate the amazing person you are 💙</p>
        <div class="scroll-indicator" onclick="scrollToSection('message')">
            <span>↓</span>
        </div>
    </section>

    <!-- Personal Message Section -->
    <section id="message" class="section">
        <h2 class="section-title">From My Heart to Yours</h2>
        <div class="message-card">
            <p class="message-text">
                Rati, where do I even begin? You're not just my cousin – you're the sister I never had, the friend who's always been there, and the person I look up to more than you know. 
            </p>
        </div>
        <div class="message-card">
            <p class="message-text">
                Your kindness lights up every room you enter. The way you care for everyone around you, how you listen without judgment, and how you always know the right thing to say – it's pure magic. You have this incredible ability to make people feel seen and valued, and that's a gift not many people possess.
            </p>
        </div>
        <div class="message-card">
            <p class="message-text">
                Watching you grow into the incredible person you are today has been one of my greatest joys. Your dreams, your laughter, your determination – everything about you inspires me to be better. Thank you for being my anchor, my cheerleader, and my partner in all of life's adventures.
            </p>
        </div>
    </section>

    <!-- Memories Section -->
    <section id="memories" class="section">
        <h2 class="section-title">Our Beautiful Memories</h2>
        
        <h3 class="gallery-title">The Sweetest Beginning</h3>
        <div class="photo-gallery">
            <div class="photo-item">
                <img src="static/rati media folder/Baby Rati photos/Baby Rati.jpg" alt="Baby Rati" loading="lazy">
                <div class="photo-overlay"><p>Even as a baby, you had that special spark ✨</p></div>
            </div>
            <div class="photo-item">
                <img src="static/rati media folder/Baby Rati photos/Baby Rati 2.jpg" alt="Baby Rati 2" loading="lazy">
                <div class="photo-overlay"><p>Those adorable baby cheeks! 👶</p></div>
            </div>
            <div class="photo-item">
                <img src="static/rati media folder/Baby Rati photos/Baby Rati 3.jpg" alt="Baby Rati 3" loading="lazy">
                <div class="photo-overlay"><p>Pure joy in every smile 😊</p></div>
            </div>
            <div class="photo-item">
                <img src="static/rati media folder/Baby Rati photos/Baby Rati 4.jpg" alt="Baby Rati 4" loading="lazy">
                <div class="photo-overlay"><p>Already showing your beautiful personality 💕</p></div>
            </div>
             <!-- Add more baby photos if available, e.g., Baby Rati 5.jpg to Baby Rati 14.jpg -->
            <div class="photo-item">
                <img src="static/rati media folder/Baby Rati photos/Baby Rati 5.jpg" alt="Baby Rati 5" loading="lazy">
                <div class="photo-overlay"><p>Curiosity and wonder in your eyes!</p></div>
            </div>
            <div class="photo-item">
                <img src="static/rati media folder/Baby Rati photos/Baby Rati 6.jpg" alt="Baby Rati 6" loading="lazy">
                <div class="photo-overlay"><p>A little explorer in the making.</p></div>
            </div>
        </div>

        <h3 class="gallery-title">The Sister & Role Model</h3>
        <div class="photo-gallery">
            <div class="photo-item">
                <img src="static/rati media folder/Role model Rati/Rati as a role model and sister to all.jpg" alt="Rati Role Model" loading="lazy">
                <div class="photo-overlay"><p>Leading by example, always 🌟</p></div>
            </div>
            <div class="photo-item">
                <img src="static/rati media folder/Role model Rati/Rati as a role model and sister to all2.jpg" alt="Rati Role Model 2" loading="lazy">
                <div class="photo-overlay"><p>The sister everyone wishes they had 💙</p></div>
            </div>
            <div class="photo-item">
                <img src="static/rati media folder/Role model Rati/Rati as a role model and sister to all3.jpg" alt="Rati Role Model 3" loading="lazy">
                <div class="photo-overlay"><p>Your strength inspires us all 💪</p></div>
            </div>
             <!-- Add more role model photos if available -->
            <div class="photo-item">
                <img src="static/rati media folder/Role model Rati/Rati as a role model and sister to all4.jpg" alt="Rati Role Model 4" loading="lazy">
                <div class="photo-overlay"><p>Grace, kindness, and intelligence combined.</p></div>
            </div>
             <div class="photo-item">
                <img src="static/rati media folder/Role model Rati/Rati as a role model and sister to all5.jpg" alt="Rati Role Model 5" loading="lazy">
                <div class="photo-overlay"><p>A true inspiration to everyone around you.</p></div>
            </div>
        </div>
    </section>

    <!-- Celebration Section -->
    <section id="celebration" class="section">
        <h2 class="section-title">A Special Moment For You</h2>
        <div class="video-container">
            <video controls poster="static/rati media folder/Baby Rati photos/Baby Rati.jpg">
                <source src="static/rati media folder/Video/Rati Video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="message-card">
            <p class="message-text">
                As you step into 19, I want you to know that you're destined for incredible things. Your compassion, intelligence, and strength will take you places you've only dreamed of. Keep being the amazing person you are, keep chasing your dreams, and never forget how loved and appreciated you are.
            </p>
        </div>
        <div class="message-card">
            <p class="message-text">
                Here's to another year of laughter, adventures, and memories we'll create together. Happy 19th Birthday, Rati! May this year bring you all the happiness, success, and love your beautiful heart deserves. 🎉💙
            </p>
        </div>
    </section>

    <!-- Music Player -->
    <div class="music-player" id="musicPlayerElement" style="display: none;"> <!-- Initially hidden -->
        <div class="music-controls">
            <button class="play-button" id="playPauseButton" aria-label="Play or Pause Music">▶</button>
            <span>Birthday Vibes</span>
            <input type="range" class="volume-control" id="volumeControl" min="0" max="1" step="0.01" value="0.5" aria-label="Volume">
        </div>
        <audio id="backgroundMusic" loop>
            <source src="static/Kevin Zadai Soaking Music Volume 1 Awakening. Movement One_ Twilight.mp3" type="audio/mpeg">
        </audio>
    </div>

    <script>
        // Background animation
        function createParticles() {
            const container = document.getElementById('backgroundAnimation');
            if (!container) return;
            const particleCount = Math.min(20, Math.floor(window.innerWidth / 50)); // Responsive particle count
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                const size = Math.random() * 8 + 4 + 'px'; // Adjusted size
                particle.style.width = size;
                particle.style.height = size;
                particle.style.animationDelay = Math.random() * 7 + 's'; // Adjusted delay
                particle.style.animationDuration = Math.random() * 5 + 5 + 's'; // Adjusted duration
                container.appendChild(particle);
            }
        }

        // Floating hearts
        function createHeart() {
            const heartsContainer = document.getElementById('floatingHearts');
            if (!heartsContainer) return;
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = '💙';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 3 + 4 + 's'; // Adjusted duration
            heart.style.fontSize = Math.random() * 10 + 15 + 'px'; // Random size
            heartsContainer.appendChild(heart);
            
            setTimeout(() => {
                heart.remove();
            }, 7000); // Longer lifetime
        }

        // Music player
        const audio = document.getElementById('backgroundMusic');
        const playPauseButton = document.getElementById('playPauseButton');
        const volumeControl = document.getElementById('volumeControl');
        const musicPlayerElement = document.getElementById('musicPlayerElement');
        const musicPromptModal = document.getElementById('musicPromptModal');
        const playMusicBtn = document.getElementById('playMusicBtn');
        const noMusicBtn = document.getElementById('noMusicBtn');

        function toggleMusic() {
            if (audio.paused) {
                audio.play().catch(error => console.log("Audio play error:", error));
                playPauseButton.innerHTML = '⏸';
                playPauseButton.setAttribute('aria-label', 'Pause Music');
            } else {
                audio.pause();
                playPauseButton.innerHTML = '▶';
                 playPauseButton.setAttribute('aria-label', 'Play Music');
            }
        }
        
        if (audio && playPauseButton && volumeControl && musicPlayerElement && musicPromptModal && playMusicBtn && noMusicBtn) {
            playPauseButton.addEventListener('click', toggleMusic);

            volumeControl.addEventListener('input', function() {
                audio.volume = this.value;
            });
            audio.volume = 0.5; // Set initial volume

            // Music Prompt Logic
            playMusicBtn.addEventListener('click', () => {
                musicPlayerElement.style.display = 'flex';
                audio.play().catch(error => console.log("Audio play error:", error));
                playPauseButton.innerHTML = '⏸';
                playPauseButton.setAttribute('aria-label', 'Pause Music');
                musicPromptModal.classList.remove('visible');
            });

            noMusicBtn.addEventListener('click', () => {
                musicPlayerElement.style.display = 'flex'; // Still show player, but don't auto-play
                musicPromptModal.classList.remove('visible');
            });
        }


        // Smooth scrolling
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1, // Trigger when 10% of element is visible
            rootMargin: '0px 0px -50px 0px' // Trigger a bit before it's fully in view
        };

        const animatedElementsObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    if (entry.target.classList.contains('photo-item')) {
                        // Stagger photo item animations
                        entry.target.style.setProperty('--animation-delay', `${index * 0.1}s`);
                    }
                    entry.target.classList.add('visible');
                    // observer.unobserve(entry.target); // Optional: unobserve after animation
                }
            });
        }, observerOptions);


        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            setInterval(createHeart, 1500); // Create hearts more frequently
            
            // Show music prompt modal
            if (musicPromptModal) {
                 setTimeout(() => musicPromptModal.classList.add('visible'), 500); // Slight delay
            }

            // Observe elements for scroll animations
            const elementsToAnimate = document.querySelectorAll('.message-card, .photo-item, .video-container');
            elementsToAnimate.forEach(el => {
                animatedElementsObserver.observe(el);
            });
        });

        // Photo gallery lightbox effect
        document.querySelectorAll('.photo-item').forEach(item => {
            item.addEventListener('click', function() {
                const img = this.querySelector('img');
                if (!img) return;

                const lightbox = document.createElement('div');
                lightbox.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.92); /* Darker overlay */
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 10000;
                    cursor: pointer;
                    opacity: 0;
                    transition: opacity 0.3s ease;
                `;
                
                const lightboxImg = document.createElement('img');
                lightboxImg.src = img.src;
                lightboxImg.style.cssText = `
                    max-width: 90vw;
                    max-height: 90vh;
                    border-radius: 10px;
                    box-shadow: 0 0 60px rgba(66, 165, 245, 0.3);
                    transform: scale(0.9);
                    transition: transform 0.3s ease;
                `;
                
                lightbox.appendChild(lightboxImg);
                document.body.appendChild(lightbox);
                
                // Trigger transitions
                requestAnimationFrame(() => {
                    lightbox.style.opacity = '1';
                    lightboxImg.style.transform = 'scale(1)';
                });
                
                lightbox.addEventListener('click', function() {
                    lightbox.style.opacity = '0';
                    lightboxImg.style.transform = 'scale(0.9)';
                    setTimeout(() => {
                        if (document.body.contains(lightbox)) {
                            document.body.removeChild(lightbox);
                        }
                    }, 300);
                });
            });
        });
    </script>
</body>
</html>
